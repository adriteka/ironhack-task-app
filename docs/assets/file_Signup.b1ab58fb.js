import{_ as x,u as P,r,o as E,c as V,d as s,w as d,v as c,n as v,x as n,f as i,h as z,s as m,q as U,F as I,l as w,b as B,p as C,i as M,z as N}from"./file_index.260949ec.js";const l=t=>(C("data-v-37a7ce6f"),t=t(),M(),t),A=l(()=>s("h3",{class:"title is-5"},"Sign Up",-1)),D={class:"field"},F=l(()=>s("label",{for:"email",class:"label is-size-7-5 is-uppercase"},"E-mail",-1)),T={class:"control has-icons-left"},$={class:"icon is-small is-left"},q={class:"help is-danger"},L={class:"field"},j=l(()=>s("label",{for:"password",class:"label is-size-7-5 is-uppercase"},"Password",-1)),G={class:"control has-icons-left"},H={class:"icon is-small is-left"},J={class:"help is-danger"},K={class:"field"},O=l(()=>s("label",{for:"password-repeat",class:"label is-size-7-5 is-uppercase"},"Repeat password",-1)),Q={class:"control has-icons-left"},W={class:"icon is-small is-left"},X={class:"help is-danger"},Y=l(()=>s("div",{class:"field is-center"},[s("button",{type:"submit",class:"button mt-4"},"Sign up")],-1)),Z={class:"help is-ok is-center"},ee={class:"alternative has-text-grey"},se={__name:"Signup",setup(t){const h=P();N();const e=r({email:{value:"",error:null},password:{value:"",error:null},passwordRepeat:{value:"",error:null},submit:{error:null}}),u=r(null),_=r(null),f=r(null),g=()=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,})+$/.test(e.value.email.value)?(e.value.email.error=null,!0):(e.value.email.error="E-mail should look like 'name@domain.com'",!1),b=()=>e.value.password.value.length<6?(e.value.password.error="Password should be at least 6 characters",!1):(e.value.password.error=null,!0),k=()=>e.value.password.value!==e.value.passwordRepeat.value?(e.value.passwordRepeat.error="Passwords do not match",!1):(e.value.passwordRepeat.error=null,!0),y=async()=>{if(!g()){u.value.focus();return}if(!b()){_.value.focus();return}if(!k()){f.value.focus();return}await h.signUp(e.value.email.value,e.value.password.value),e.value.submit.error="Please confirm the registration e-mail to log in",e.value.password.value="",e.value.passwordRepeat.value=""};return E(()=>{u.value.focus()}),(R,a)=>{const p=w("font-awesome-icon"),S=w("router-link");return B(),V(I,null,[A,s("form",{onSubmit:a[3]||(a[3]=z(o=>y(),["prevent"]))},[s("div",D,[F,s("p",T,[d(s("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>e.value.email.value=o),ref_key:"inputEmail",ref:u,type:"text",id:"email",placeholder:"Enter your e-mail",class:v(["input",{"is-danger":e.value.email.error}])},null,2),[[c,e.value.email.value]]),s("span",$,[n(p,{icon:"fa-solid fa-envelope"})])]),s("p",q,i(e.value.email.error),1)]),s("div",L,[j,s("p",G,[d(s("input",{"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.password.value=o),ref_key:"inputPassword",ref:_,type:"password",id:"password",placeholder:"\u25CF \u25CF \u25CF \u25CF \u25CF \u25CF",class:v(["input",{"is-danger":e.value.password.error}])},null,2),[[c,e.value.password.value]]),s("span",H,[n(p,{icon:"fa-solid fa-lock"})])]),s("p",J,i(e.value.password.error),1)]),s("div",K,[O,s("p",Q,[d(s("input",{"onUpdate:modelValue":a[2]||(a[2]=o=>e.value.passwordRepeat.value=o),ref_key:"inputPasswordRepeat",ref:f,type:"password",id:"password-repeat",placeholder:"\u25CF \u25CF \u25CF \u25CF \u25CF \u25CF",class:v(["input",{"is-danger":e.value.passwordRepeat.error}])},null,2),[[c,e.value.passwordRepeat.value]]),s("span",W,[n(p,{icon:"fa-solid fa-lock"})])]),s("p",X,i(e.value.passwordRepeat.error),1)]),Y,s("p",Z,i(e.value.submit.error),1)],32),s("div",ee,[s("p",null,[m(" Already have an account? "),n(S,{to:{name:"login"}},{default:U(()=>[m("Log in")]),_:1})])])],64)}}},oe=x(se,[["__scopeId","data-v-37a7ce6f"]]);export{oe as default};
