import{_ as z,u as N,a as C,r as p,t as o,o as E,b as u,c as _,d as t,e as l,w as D,v as b,n as v,f as y,g as U,h as O,p as M,i as F,j as R,k as H,l as $,m as g,q as S,s as T,x as w,y as j,z as q}from"./file_index.2db8f75e.js";const h=d=>(M("data-v-4e22ec61"),d=d(),F(),d),L={class:"box"},P=["disabled"],W={class:"field column is-3"},G=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"title"},"New Task",-1)),J={class:"help is-danger"},K={class:"field column is-2"},Q=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"priority"},"Urgency",-1)),X={class:"select"},Y=["value"],Z=["value"],ee=["value"],te={class:"field column is-2"},se=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"start-date"},"Start Date",-1)),ae=["disabled"],le={class:"field column is-2"},ie=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"due-date"},"Due Date",-1)),oe={class:"help is-danger"},ue={class:"field column buttons"},re=h(()=>t("label",{class:"label is-size-7-5 is-uppercase is-invisible",for:"create-button"},"Action",-1)),ne=h(()=>t("button",{type:"submit",class:"button is-primary is-size-6-5",id:"create-button"}," Create ",-1)),ce={__name:"TaskNew",setup(d){const c=N(),r=C(),e=p({userId:c.userId,title:"",priority:o.opportunity,startDate:new Date().toISOString().split("T")[0],dueDate:null}),s=p({titleError:null,startDate:null,dueDate:null}),n=p(null),f=p(null),k=p(null),m=()=>{e.value.priority===o.critical?(e.value.startDate=new Date().toISOString().split("T")[0],s.value.startDate="Critical starts today"):s.value.startDate=null},B=()=>e.value.title.length<10?(s.value.title="At least 10 characters",!1):(s.value.title=null,!0),I=()=>!e.value.startDate||!e.value.startDate.length?(s.value.startDate="Start date should be specified",!1):(s.value.startDate=null,!0),V=()=>{if(e.value.dueDate!=null&&!e.value.dueDate.length)e.value.dueDate=null;else if(e.value.dueDate&&e.value.dueDate<e.value.startDate)return s.value.dueDate="Can't be prior to start date",!1;return s.value.dueDate=null,!0},A=()=>{if(!B()){n.value.focus();return}if(!I()){f.value.focus();return}if(!V()){k.value.focus();return}r.createTask(e.value),x()},x=()=>{e.value.title="",e.value.priority=o.opportunity,e.value.startDate=new Date().toISOString().split("T")[0],e.value.dueDate=null,n.value.focus()};return E(()=>{n.value.focus()}),(be,a)=>(u(),_("section",L,[t("form",{onSubmit:a[6]||(a[6]=O(i=>A(),["prevent"]))},[t("fieldset",{class:"columns is-variable is-1",disabled:l(r).taskBeingEdited},[t("div",W,[G,D(t("input",{"onUpdate:modelValue":a[0]||(a[0]=i=>e.value.title=i),ref_key:"inputTitle",ref:n,type:"text",id:"title",placeholder:"What you intend to do",class:v(["input is-size-6-5",{"is-danger":s.value.title}])},null,2),[[b,e.value.title]]),t("p",J,y(s.value.title),1)]),t("div",K,[Q,t("div",X,[D(t("select",{"onUpdate:modelValue":a[1]||(a[1]=i=>e.value.priority=i),onChange:a[2]||(a[2]=i=>m()),id:"priority"},[t("option",{value:l(o).critical},"Critical",8,Y),t("option",{value:l(o).opportunity,default:""}," Opportunity ",8,Z),t("option",{value:l(o).horizon},"Horizon",8,ee)],544),[[U,e.value.priority]])])]),t("div",te,[se,D(t("input",{"onUpdate:modelValue":a[3]||(a[3]=i=>e.value.startDate=i),ref_key:"inputStartDate",ref:f,type:"date",id:"start-date",class:"input is-size-6-5",disabled:e.value.priority===l(o).critical},null,8,ae),[[b,e.value.startDate]]),t("p",{class:v(["help",{"is-info":e.value.priority===l(o).critical,"is-danger":e.value.priority!==l(o).critical&&s.value.startDate}])},y(s.value.startDate),3)]),t("div",le,[ie,D(t("input",{"onUpdate:modelValue":a[4]||(a[4]=i=>e.value.dueDate=i),ref_key:"inputDueDate",ref:k,type:"date",id:"due-date",class:v(["input is-size-6-5",{"is-danger":s.value.dueDate}])},null,2),[[b,e.value.dueDate]]),t("p",oe,y(s.value.dueDate),1)]),t("div",ue,[re,ne,t("button",{type:"button",onClick:a[5]||(a[5]=i=>x()),class:"button is-size-6-5",id:"reset-button"}," Reset ")])],8,P)],32)]))}},de=z(ce,[["__scopeId","data-v-4e22ec61"]]);const pe={class:"tabs is-right is-size-7"},_e={id:"today",class:"is-size-6-5 has-text-weight-semibold has-text-grey"},ve={key:0,class:"has-text-grey-light pl-3 pr-3"},he={key:0,class:"has-text-grey-light pl-3 pr-3"},fe={key:0,class:"has-text-grey-light pl-3 pr-3"},me={__name:"NavBarTasks",setup(d){const c=C(),r=R(),e=p(r.name),s={weekday:"long",day:"numeric",month:"long",year:"numeric"},n=new Date().toLocaleString("en-US",s);return H(()=>r.name,f=>{e.value=f,console.log("watch routeName",e.value)}),(f,k)=>{const m=$("router-link");return u(),_("nav",pe,[t("ul",_e,[t("li",null,y(l(n)),1)]),t("ul",null,[t("li",{class:v({"is-active":e.value==="current"})},[l(c).taskBeingEdited&&e.value!=="current"?(u(),_("span",ve,"Current tasks")):(u(),g(m,{key:1,to:{name:"current"}},{default:S(()=>[T(" Current Tasks")]),_:1}))],2),t("li",{class:v({"is-active":e.value==="future"})},[l(c).taskBeingEdited&&e.value!=="future"?(u(),_("span",he,"Future Tasks")):(u(),g(m,{key:1,to:{name:"future"}},{default:S(()=>[T("Future Tasks")]),_:1}))],2),t("li",{class:v({"is-active":e.value==="archived"})},[l(c).taskBeingEdited&&e.value!=="archived"?(u(),_("span",fe,"Archived")):(u(),g(m,{key:1,to:{name:"archived"}},{default:S(()=>[T("Archived")]),_:1}))],2)])])}}},De=z(me,[["__scopeId","data-v-8e7318bc"]]),ye={key:0,class:"container"},ke={class:"box"},Se={__name:"Home",setup(d){const c=q(),r=N();return r.isAuth||c.push({name:"login",params:{signup:0}}),(e,s)=>{const n=$("router-view");return l(r).isAuth?(u(),_("div",ye,[w(de),t("section",ke,[w(De),w(n)])])):j("",!0)}}};export{Se as default};
