import{_ as S,u as E,r as n,o as I,c as L,d as s,w as v,v as m,n as f,x as u,f as c,h as P,s as h,q as V,l as w,b as z,p as N,i as B,z as C}from"./file_index.260949ec.js";const t=o=>(N("data-v-116a64f8"),o=o(),B(),o),M=t(()=>s("h3",{class:"title is-5"},"Log In",-1)),A={class:"field"},D=t(()=>s("label",{for:"email",class:"label is-size-7-5 is-uppercase"},"E-mail",-1)),T={class:"control has-icons-left"},U={class:"icon is-small is-left"},$={class:"help is-danger"},q={class:"field"},R=t(()=>s("label",{for:"password",class:"label is-size-7-5 is-uppercase"},"Password",-1)),j={class:"control has-icons-left"},F={class:"icon is-small is-left"},G={class:"help is-danger"},H=t(()=>s("div",{class:"field is-center"},[s("button",{type:"submit",class:"button mt-4"},"Log in")],-1)),J={class:"help is-danger is-center"},K={class:"alternative has-text-grey"},O={__name:"Login",setup(o){const d=E(),g=C(),e=n({email:{value:"",error:null},password:{value:"",error:null},submit:{error:null}}),r=n(null),p=n(null),b=()=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,})+$/.test(e.value.email.value)?(e.value.email.error=null,!0):(e.value.email.error="E-mail should look like 'name@domain.com'",!1),y=()=>e.value.password.value.length<6?(e.value.password.error="Password should be at least 6 characters",!1):(e.value.password.error=null,!0),x=async()=>{if(e.value.submit.error=null,!b()){r.value.focus();return}if(!y()){p.value.focus();return}try{await d.logIn(e.value.email.value,e.value.password.value)}catch(i){e.value.submit.error=i}d.isAuth&&(e.value.email="",e.value.password="",g.push({name:"home"}))};return I(()=>{r.value.focus()}),(i,a)=>{const _=w("font-awesome-icon"),k=w("router-link");return z(),L("div",null,[M,s("form",{onSubmit:a[2]||(a[2]=P(l=>x(),["prevent"]))},[s("div",A,[D,s("p",T,[v(s("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>e.value.email.value=l),ref_key:"inputEmail",ref:r,type:"text",id:"email",placeholder:"Enter your e-mail",class:f(["input",{"is-danger":e.value.email.error}])},null,2),[[m,e.value.email.value]]),s("span",U,[u(_,{icon:"fa-solid fa-envelope"})])]),s("p",$,c(e.value.email.error),1)]),s("div",q,[R,s("p",j,[v(s("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>e.value.password.value=l),ref_key:"inputPassword",ref:p,type:"password",id:"password",placeholder:"\u25CF \u25CF \u25CF \u25CF \u25CF \u25CF",class:f(["input",{"is-danger":e.value.password.error}])},null,2),[[m,e.value.password.value]]),s("span",F,[u(_,{icon:"fa-solid fa-lock"})])]),s("p",G,c(e.value.password.error),1)]),H,s("p",J,c(e.value.submit.error),1)],32),s("div",K,[s("p",null,[h(" Not registered yet? "),u(k,{to:{name:"signup"}},{default:V(()=>[h("Sign up")]),_:1})])])])}}},W=S(O,[["__scopeId","data-v-116a64f8"]]);export{W as default};
