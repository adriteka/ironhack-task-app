import{_ as z,u as $,a as I,r as _,t as n,o as M,b as u,c as v,d as t,e as l,w as b,v as T,n as f,f as S,g as F,h as R,p as j,i as q,j as L,k as P,l as V,m as w,q as g,s as x,x as k,T as C,y as W,z as G}from"./file_index.ee37999b.js";const h=d=>(j("data-v-f8c02aa8"),d=d(),q(),d),J={class:"box"},K=["disabled"],Q={class:"field column is-3"},X=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"title"},"New Task",-1)),Y={class:"help is-danger"},Z={class:"field column is-2"},ee=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"priority"},"Urgency",-1)),te={class:"select"},se=["value"],ae=["value"],le=["value"],ie={class:"field column is-2"},oe=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"start-date"},"Start Date",-1)),ne=["disabled"],ue={class:"field column is-2"},re=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"due-date"},"Due Date",-1)),ce={class:"help is-danger"},de={class:"field column buttons"},pe=h(()=>t("label",{class:"label is-size-7-5 is-uppercase is-invisible",for:"create-button"},"Action",-1)),_e=h(()=>t("button",{type:"submit",class:"button is-primary is-size-6-5",id:"create-button"}," Create ",-1)),ve={__name:"TaskNew",setup(d){const c=$(),r=I(),i=" ",m="  ",e=_({userId:c.userId,title:"",priority:n.opportunity,startDate:new Date().toISOString().split("T")[0],dueDate:null}),s=_({titleError:null,startDate:null,dueDate:null}),y=_(null),p=_(null),B=_(null),A=()=>{e.value.priority===n.critical?(e.value.startDate=new Date().toISOString().split("T")[0],s.value.startDate="Critical starts today"):s.value.startDate=null},E=()=>{let D=e.value.title.trim();for(;D.indexOf(m)>=0;)D=D.replaceAll(m,i);return e.value.title=D,e.value.title.length<10?(s.value.title="At least 10 characters",!1):(s.value.title=null,!0)},O=()=>!e.value.startDate||!e.value.startDate.length?(s.value.startDate="Start date should be specified",!1):(s.value.startDate=null,!0),U=()=>{if(e.value.dueDate!=null&&!e.value.dueDate.length)e.value.dueDate=null;else if(e.value.dueDate&&e.value.dueDate<e.value.startDate)return s.value.dueDate="Can't be prior to start date",!1;return s.value.dueDate=null,!0},H=()=>{if(!E()){y.value.focus();return}if(!O()){p.value.focus();return}if(!U()){B.value.focus();return}r.createTask(e.value),N()},N=()=>{e.value.title="",e.value.priority=n.opportunity,e.value.startDate=new Date().toISOString().split("T")[0],e.value.dueDate=null,y.value.focus()};return M(()=>{y.value.focus()}),(D,a)=>(u(),v("section",J,[t("form",{onSubmit:a[6]||(a[6]=R(o=>H(),["prevent"]))},[t("fieldset",{class:"columns is-variable is-1",disabled:l(r).taskBeingEdited},[t("div",Q,[X,b(t("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>e.value.title=o),ref_key:"inputTitle",ref:y,type:"text",id:"title",placeholder:"What you intend to do",class:f(["input is-size-6-5",{"is-danger":s.value.title}])},null,2),[[T,e.value.title]]),t("p",Y,S(s.value.title),1)]),t("div",Z,[ee,t("div",te,[b(t("select",{"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.priority=o),onChange:a[2]||(a[2]=o=>A()),id:"priority"},[t("option",{value:l(n).critical},"Critical",8,se),t("option",{value:l(n).opportunity,default:""}," Opportunity ",8,ae),t("option",{value:l(n).horizon},"Horizon",8,le)],544),[[F,e.value.priority]])])]),t("div",ie,[oe,b(t("input",{"onUpdate:modelValue":a[3]||(a[3]=o=>e.value.startDate=o),ref_key:"inputStartDate",ref:p,type:"date",id:"start-date",class:"input is-size-6-5",disabled:e.value.priority===l(n).critical},null,8,ne),[[T,e.value.startDate]]),t("p",{class:f(["help",{"is-info":e.value.priority===l(n).critical,"is-danger":e.value.priority!==l(n).critical&&s.value.startDate}])},S(s.value.startDate),3)]),t("div",ue,[re,b(t("input",{"onUpdate:modelValue":a[4]||(a[4]=o=>e.value.dueDate=o),ref_key:"inputDueDate",ref:B,type:"date",id:"due-date",class:f(["input is-size-6-5",{"is-danger":s.value.dueDate}])},null,2),[[T,e.value.dueDate]]),t("p",ce,S(s.value.dueDate),1)]),t("div",de,[pe,_e,t("button",{type:"button",onClick:a[5]||(a[5]=o=>N()),class:"button is-size-6-5",id:"reset-button"}," Reset ")])],8,K)],32)]))}},fe=z(ve,[["__scopeId","data-v-f8c02aa8"]]);const he={class:"tabs is-right is-size-7"},me={id:"today",class:"is-size-6-5 has-text-weight-semibold has-text-grey"},ye={key:0,class:"has-text-grey-light pl-3 pr-3"},De={key:0,class:"has-text-grey-light pl-3 pr-3"},ke={key:0,class:"has-text-grey-light pl-3 pr-3"},ge={__name:"NavBarTasks",setup(d){const c=I(),r=L(),i=_(r.name),m={weekday:"long",day:"numeric",month:"long",year:"numeric"},e=new Date().toLocaleString("en-US",m);return P(()=>r.name,s=>{i.value=s,console.log("watch routeName",i.value)}),(s,y)=>{const p=V("router-link");return u(),v("nav",he,[t("ul",me,[t("li",null,S(l(e)),1)]),t("ul",null,[t("li",{class:f({"is-active":i.value==="current"})},[l(c).taskBeingEdited&&i.value!=="current"?(u(),v("span",ye,"Current tasks")):(u(),w(p,{key:1,to:{name:"current"}},{default:g(()=>[x(" Current Tasks")]),_:1}))],2),t("li",{class:f({"is-active":i.value==="future"})},[l(c).taskBeingEdited&&i.value!=="future"?(u(),v("span",De,"Future Tasks")):(u(),w(p,{key:1,to:{name:"future"}},{default:g(()=>[x("Future Tasks")]),_:1}))],2),t("li",{class:f({"is-active":i.value==="archived"})},[l(c).taskBeingEdited&&i.value!=="archived"?(u(),v("span",ke,"Archived")):(u(),w(p,{key:1,to:{name:"archived"}},{default:g(()=>[x("Archived")]),_:1}))],2)])])}}},be=z(ge,[["__scopeId","data-v-90832583"]]);const Se={key:0,class:"container"},Te={class:"box"},we={__name:"Home",setup(d){const c=G(),r=$();return r.isAuth||c.push({name:"login"}),(i,m)=>{const e=V("router-view");return l(r).isAuth?(u(),v("div",Se,[k(C,{name:"slide-down",appear:""},{default:g(()=>[k(fe)]),_:1}),t("section",Te,[k(be),k(C,{name:"slide-up",appear:""},{default:g(()=>[k(e)]),_:1})])])):W("",!0)}}},ze=z(we,[["__scopeId","data-v-15f5da8c"]]);export{ze as default};
