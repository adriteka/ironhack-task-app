import{_ as z,u as $,a as I,r as _,t as u,o as M,b as n,c as v,d as t,e as l,w as g,v as T,n as f,f as S,g as F,h as R,p as j,i as q,j as L,k as P,l as V,m as x,q as b,s as w,x as k,T as N,y as W,z as G}from"./file_index.260949ec.js";const h=d=>(j("data-v-6ee58116"),d=d(),q(),d),J={class:"box"},K=["disabled"],Q={class:"field column is-3"},X=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"title"},"New Task",-1)),Y={class:"help is-danger"},Z={class:"field column is-2"},ee=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"priority"},"Urgency",-1)),te={class:"select"},se=["value"],ae=["value"],le=["value"],ie={class:"field column is-2"},oe=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"start-date"},"Start Date",-1)),ue=["disabled"],ne={class:"field column is-2"},re=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"due-date"},"Due Date",-1)),ce={class:"help is-danger"},de={class:"field column buttons"},pe=h(()=>t("label",{class:"label is-size-7-5 is-uppercase is-invisible",for:"create-button"},"Action",-1)),_e=h(()=>t("button",{type:"submit",class:"button is-primary is-size-6-5",id:"create-button"}," Create ",-1)),ve={__name:"TaskNew",setup(d){const c=$(),r=I(),i=" ",m="  ",e=_({userId:c.userId,title:"",priority:u.opportunity,startDate:new Date().toISOString().split("T")[0],dueDate:null}),s=_({titleError:null,startDate:null,dueDate:null}),D=_(null),p=_(null),B=_(null),A=()=>{e.value.priority===u.critical?(e.value.startDate=new Date().toISOString().split("T")[0],s.value.startDate="Critical starts today"):s.value.startDate=null},E=()=>{let y=e.value.title.trim();for(;y.indexOf(m)>=0;)y=y.replaceAll(m,i);return e.value.title=y,e.value.title.length<10?(s.value.title="At least 10 characters",!1):(s.value.title=null,!0)},O=()=>!e.value.startDate||!e.value.startDate.length?(s.value.startDate="Start date should be specified",!1):(s.value.startDate=null,!0),U=()=>{if(e.value.dueDate!=null&&!e.value.dueDate.length)e.value.dueDate=null;else if(e.value.dueDate&&e.value.dueDate<e.value.startDate)return s.value.dueDate="Can't be prior to start date",!1;return s.value.dueDate=null,!0},H=()=>{if(!E()){D.value.focus();return}if(!O()){p.value.focus();return}if(!U()){B.value.focus();return}r.createTask(e.value),C()},C=()=>{e.value.title="",e.value.priority=u.opportunity,e.value.startDate=new Date().toISOString().split("T")[0],e.value.dueDate=null,s.value.title=null,s.value.startDate=null,s.value.dueDate=null,D.value.focus()};return M(()=>{D.value.focus()}),(y,a)=>(n(),v("section",J,[t("form",{onSubmit:a[6]||(a[6]=R(o=>H(),["prevent"]))},[t("fieldset",{class:"columns is-variable is-1",disabled:l(r).taskBeingEdited},[t("div",Q,[X,g(t("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>e.value.title=o),ref_key:"inputTitle",ref:D,type:"text",id:"title",placeholder:"What you intend to do",class:f(["input is-size-6-5",{"is-danger":s.value.title}])},null,2),[[T,e.value.title]]),t("p",Y,S(s.value.title),1)]),t("div",Z,[ee,t("div",te,[g(t("select",{"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.priority=o),onChange:a[2]||(a[2]=o=>A()),id:"priority"},[t("option",{value:l(u).critical},"Critical",8,se),t("option",{value:l(u).opportunity,default:""}," Opportunity ",8,ae),t("option",{value:l(u).horizon},"Horizon",8,le)],544),[[F,e.value.priority]])])]),t("div",ie,[oe,g(t("input",{"onUpdate:modelValue":a[3]||(a[3]=o=>e.value.startDate=o),ref_key:"inputStartDate",ref:p,type:"date",id:"start-date",class:"input is-size-6-5",disabled:e.value.priority===l(u).critical},null,8,ue),[[T,e.value.startDate]]),t("p",{class:f(["help",{"is-info":e.value.priority===l(u).critical,"is-danger":e.value.priority!==l(u).critical&&s.value.startDate}])},S(s.value.startDate),3)]),t("div",ne,[re,g(t("input",{"onUpdate:modelValue":a[4]||(a[4]=o=>e.value.dueDate=o),ref_key:"inputDueDate",ref:B,type:"date",id:"due-date",class:f(["input is-size-6-5",{"is-danger":s.value.dueDate}])},null,2),[[T,e.value.dueDate]]),t("p",ce,S(s.value.dueDate),1)]),t("div",de,[pe,_e,t("button",{type:"button",onClick:a[5]||(a[5]=o=>C()),class:"button is-size-6-5",id:"reset-button"}," Reset ")])],8,K)],32)]))}},fe=z(ve,[["__scopeId","data-v-6ee58116"]]);const he={class:"tabs is-right is-size-7"},me={id:"today",class:"is-size-6-5 has-text-weight-semibold has-text-grey"},De={key:0,class:"has-text-grey-light pl-3 pr-3"},ye={key:0,class:"has-text-grey-light pl-3 pr-3"},ke={key:0,class:"has-text-grey-light pl-3 pr-3"},be={__name:"NavBarTasks",setup(d){const c=I(),r=L(),i=_(r.name),m={weekday:"long",day:"numeric",month:"long",year:"numeric"},e=new Date().toLocaleString("en-US",m);return P(()=>r.name,s=>{i.value=s}),(s,D)=>{const p=V("router-link");return n(),v("nav",he,[t("ul",me,[t("li",null,S(l(e)),1)]),t("ul",null,[t("li",{class:f({"is-active":i.value==="current"})},[l(c).taskBeingEdited&&i.value!=="current"?(n(),v("span",De,"Current tasks")):(n(),x(p,{key:1,to:{name:"current"}},{default:b(()=>[w(" Current Tasks")]),_:1}))],2),t("li",{class:f({"is-active":i.value==="future"})},[l(c).taskBeingEdited&&i.value!=="future"?(n(),v("span",ye,"Future Tasks")):(n(),x(p,{key:1,to:{name:"future"}},{default:b(()=>[w("Future Tasks")]),_:1}))],2),t("li",{class:f({"is-active":i.value==="archived"})},[l(c).taskBeingEdited&&i.value!=="archived"?(n(),v("span",ke,"Archived")):(n(),x(p,{key:1,to:{name:"archived"}},{default:b(()=>[w("Archived")]),_:1}))],2)])])}}},ge=z(be,[["__scopeId","data-v-14c2a1e1"]]);const Se={key:0,class:"container"},Te={class:"box"},xe={__name:"Home",setup(d){const c=G(),r=$();return r.isAuth||c.push({name:"login"}),(i,m)=>{const e=V("router-view");return l(r).isAuth?(n(),v("div",Se,[k(N,{name:"slide-down",appear:""},{default:b(()=>[k(fe)]),_:1}),t("section",Te,[k(ge),k(N,{name:"slide-up",appear:""},{default:b(()=>[k(e)]),_:1})])])):W("",!0)}}},ze=z(xe,[["__scopeId","data-v-15f5da8c"]]);export{ze as default};
