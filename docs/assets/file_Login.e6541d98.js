import{_ as S,u as E,r as i,o as I,c as L,d as s,w as m,v,n as f,x as u,f as c,h as P,s as h,q as V,F as z,l as w,b as N,p as B,i as C,z as M}from"./file_index.2db8f75e.js";const t=o=>(B("data-v-ada453a5"),o=o(),C(),o),A=t(()=>s("h3",{class:"title is-5"},"Log In",-1)),D={class:"field"},F=t(()=>s("label",{for:"email",class:"label is-size-7-5 is-uppercase"},"E-mail",-1)),T={class:"control has-icons-left"},U={class:"icon is-small is-left"},$={class:"help is-danger"},q={class:"field"},R=t(()=>s("label",{for:"password",class:"label is-size-7-5 is-uppercase"},"Password",-1)),j={class:"control has-icons-left"},G={class:"icon is-small is-left"},H={class:"help is-danger"},J=t(()=>s("div",{class:"field is-center"},[s("button",{type:"submit",class:"button mt-4"},"Log in")],-1)),K={class:"help is-danger is-center"},O={class:"alternative has-text-grey"},Q={__name:"Login",setup(o){const d=E(),g=M(),e=i({email:{value:"",error:null},password:{value:"",error:null},submit:{error:null}}),r=i(null),p=i(null),b=()=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,})+$/.test(e.value.email.value)?(e.value.email.error=null,!0):(e.value.email.error="E-mail should look like 'name@domain.com'",!1),y=()=>e.value.password.value.length<6?(e.value.password.error="Password should be at least 6 characters",!1):(e.value.password.error=null,!0),x=async()=>{if(e.value.submit.error=null,!b()){r.value.focus();return}if(!y()){p.value.focus();return}try{await d.logIn(e.value.email.value,e.value.password.value)}catch(n){e.value.submit.error=n}d.isAuth&&g.push({name:"home"})};return I(()=>{r.value.focus()}),(n,a)=>{const _=w("font-awesome-icon"),k=w("router-link");return N(),L(z,null,[A,s("form",{onSubmit:a[2]||(a[2]=P(l=>x(),["prevent"]))},[s("div",D,[F,s("p",T,[m(s("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>e.value.email.value=l),ref_key:"inputEmail",ref:r,type:"text",id:"email",placeholder:"Enter your e-mail",class:f(["input",{"is-danger":e.value.email.error}])},null,2),[[v,e.value.email.value]]),s("span",U,[u(_,{icon:"fa-solid fa-envelope"})])]),s("p",$,c(e.value.email.error),1)]),s("div",q,[R,s("p",j,[m(s("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>e.value.password.value=l),ref_key:"inputPassword",ref:p,type:"password",id:"password",placeholder:"\u25CF \u25CF \u25CF \u25CF \u25CF \u25CF",class:f(["input",{"is-danger":e.value.password.error}])},null,2),[[v,e.value.password.value]]),s("span",G,[u(_,{icon:"fa-solid fa-lock"})])]),s("p",H,c(e.value.password.error),1)]),J,s("p",K,c(e.value.submit.error),1)],32),s("div",O,[s("p",null,[h(" Not registered yet? "),u(k,{to:{name:"signup"}},{default:V(()=>[h("Sign up")]),_:1})])])],64)}}},X=S(Q,[["__scopeId","data-v-ada453a5"]]);export{X as default};
