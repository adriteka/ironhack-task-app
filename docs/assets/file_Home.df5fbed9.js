import{_ as z,u as C,a as $,r as p,t as o,o as U,b as u,c as _,d as t,e as l,w as b,v as T,n as v,f as g,g as H,h as M,p as F,i as R,j,k as q,l as I,m as w,q as k,s as x,x as D,T as B,y as L,z as P}from"./file_index.a570beb9.js";const h=d=>(F("data-v-c68a5475"),d=d(),R(),d),W={class:"box"},G=["disabled"],J={class:"field column is-3"},K=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"title"},"New Task",-1)),Q={class:"help is-danger"},X={class:"field column is-2"},Y=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"priority"},"Urgency",-1)),Z={class:"select"},ee=["value"],te=["value"],se=["value"],ae={class:"field column is-2"},le=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"start-date"},"Start Date",-1)),ie=["disabled"],oe={class:"field column is-2"},ue=h(()=>t("label",{class:"label is-size-7-5 is-uppercase",for:"due-date"},"Due Date",-1)),ne={class:"help is-danger"},re={class:"field column buttons"},ce=h(()=>t("label",{class:"label is-size-7-5 is-uppercase is-invisible",for:"create-button"},"Action",-1)),de=h(()=>t("button",{type:"submit",class:"button is-primary is-size-6-5",id:"create-button"}," Create ",-1)),pe={__name:"TaskNew",setup(d){const c=C(),n=$(),e=p({userId:c.userId,title:"",priority:o.opportunity,startDate:new Date().toISOString().split("T")[0],dueDate:null}),s=p({titleError:null,startDate:null,dueDate:null}),r=p(null),f=p(null),S=p(null),m=()=>{e.value.priority===o.critical?(e.value.startDate=new Date().toISOString().split("T")[0],s.value.startDate="Critical starts today"):s.value.startDate=null},V=()=>{let y=e.value.title.trim();for(;y.indexOf(doubleBlank)>=0;)y=y.replaceAll("  "," ");return e.value.title=y,e.value.title.length<10?(s.value.title="At least 10 characters",!1):(s.value.title=null,!0)},A=()=>!e.value.startDate||!e.value.startDate.length?(s.value.startDate="Start date should be specified",!1):(s.value.startDate=null,!0),E=()=>{if(e.value.dueDate!=null&&!e.value.dueDate.length)e.value.dueDate=null;else if(e.value.dueDate&&e.value.dueDate<e.value.startDate)return s.value.dueDate="Can't be prior to start date",!1;return s.value.dueDate=null,!0},O=()=>{if(!V()){r.value.focus();return}if(!A()){f.value.focus();return}if(!E()){S.value.focus();return}n.createTask(e.value),N()},N=()=>{e.value.title="",e.value.priority=o.opportunity,e.value.startDate=new Date().toISOString().split("T")[0],e.value.dueDate=null,r.value.focus()};return U(()=>{r.value.focus()}),(y,a)=>(u(),_("section",W,[t("form",{onSubmit:a[6]||(a[6]=M(i=>O(),["prevent"]))},[t("fieldset",{class:"columns is-variable is-1",disabled:l(n).taskBeingEdited},[t("div",J,[K,b(t("input",{"onUpdate:modelValue":a[0]||(a[0]=i=>e.value.title=i),ref_key:"inputTitle",ref:r,type:"text",id:"title",placeholder:"What you intend to do",class:v(["input is-size-6-5",{"is-danger":s.value.title}])},null,2),[[T,e.value.title]]),t("p",Q,g(s.value.title),1)]),t("div",X,[Y,t("div",Z,[b(t("select",{"onUpdate:modelValue":a[1]||(a[1]=i=>e.value.priority=i),onChange:a[2]||(a[2]=i=>m()),id:"priority"},[t("option",{value:l(o).critical},"Critical",8,ee),t("option",{value:l(o).opportunity,default:""}," Opportunity ",8,te),t("option",{value:l(o).horizon},"Horizon",8,se)],544),[[H,e.value.priority]])])]),t("div",ae,[le,b(t("input",{"onUpdate:modelValue":a[3]||(a[3]=i=>e.value.startDate=i),ref_key:"inputStartDate",ref:f,type:"date",id:"start-date",class:"input is-size-6-5",disabled:e.value.priority===l(o).critical},null,8,ie),[[T,e.value.startDate]]),t("p",{class:v(["help",{"is-info":e.value.priority===l(o).critical,"is-danger":e.value.priority!==l(o).critical&&s.value.startDate}])},g(s.value.startDate),3)]),t("div",oe,[ue,b(t("input",{"onUpdate:modelValue":a[4]||(a[4]=i=>e.value.dueDate=i),ref_key:"inputDueDate",ref:S,type:"date",id:"due-date",class:v(["input is-size-6-5",{"is-danger":s.value.dueDate}])},null,2),[[T,e.value.dueDate]]),t("p",ne,g(s.value.dueDate),1)]),t("div",re,[ce,de,t("button",{type:"button",onClick:a[5]||(a[5]=i=>N()),class:"button is-size-6-5",id:"reset-button"}," Reset ")])],8,G)],32)]))}},_e=z(pe,[["__scopeId","data-v-c68a5475"]]);const ve={class:"tabs is-right is-size-7"},he={id:"today",class:"is-size-6-5 has-text-weight-semibold has-text-grey"},fe={key:0,class:"has-text-grey-light pl-3 pr-3"},me={key:0,class:"has-text-grey-light pl-3 pr-3"},ye={key:0,class:"has-text-grey-light pl-3 pr-3"},De={__name:"NavBarTasks",setup(d){const c=$(),n=j(),e=p(n.name),s={weekday:"long",day:"numeric",month:"long",year:"numeric"},r=new Date().toLocaleString("en-US",s);return q(()=>n.name,f=>{e.value=f,console.log("watch routeName",e.value)}),(f,S)=>{const m=I("router-link");return u(),_("nav",ve,[t("ul",he,[t("li",null,g(l(r)),1)]),t("ul",null,[t("li",{class:v({"is-active":e.value==="current"})},[l(c).taskBeingEdited&&e.value!=="current"?(u(),_("span",fe,"Current tasks")):(u(),w(m,{key:1,to:{name:"current"}},{default:k(()=>[x(" Current Tasks")]),_:1}))],2),t("li",{class:v({"is-active":e.value==="future"})},[l(c).taskBeingEdited&&e.value!=="future"?(u(),_("span",me,"Future Tasks")):(u(),w(m,{key:1,to:{name:"future"}},{default:k(()=>[x("Future Tasks")]),_:1}))],2),t("li",{class:v({"is-active":e.value==="archived"})},[l(c).taskBeingEdited&&e.value!=="archived"?(u(),_("span",ye,"Archived")):(u(),w(m,{key:1,to:{name:"archived"}},{default:k(()=>[x("Archived")]),_:1}))],2)])])}}},ke=z(De,[["__scopeId","data-v-90832583"]]);const be={key:0,class:"container"},ge={class:"box"},Se={__name:"Home",setup(d){const c=P(),n=C();return n.isAuth||c.push({name:"login"}),(e,s)=>{const r=I("router-view");return l(n).isAuth?(u(),_("div",be,[D(B,{name:"slide-down",appear:""},{default:k(()=>[D(_e)]),_:1}),t("section",ge,[D(ke),D(B,{name:"slide-up",appear:""},{default:k(()=>[D(r)]),_:1})])])):L("",!0)}}},we=z(Se,[["__scopeId","data-v-15f5da8c"]]);export{we as default};
